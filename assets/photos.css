/* Photos gallery styles â€” follow existing site visual language */
.photos-header {
  position: relative;
  /* show more of the mountain/sunset by anchoring the image toward the top and increasing height */
  background: url('../photos/Wallpapers/IMG_3057.JPG') center top/cover no-repeat;
  min-height: 60vh;
  display: flex;
  align-items: flex-start; /* allow content to sit near top-right */
  text-shadow: 0 2px 6px rgba(0,0,0,0.45);
  padding-top: 2.5rem; /* keep the title away from the very top */
}

.photos-header::before {
  content: '';
  position: absolute;
  inset: 0;
  /* soften the top area so header text is not swallowed by the overlay; still keep contrast at the bottom */
  background: linear-gradient(to bottom, rgba(0,0,0,0.18), rgba(0,0,0,0.55));
  z-index: 1;
  animation: fadeIn 1s ease-out;
} 

.photos-header .container {
  position: relative;
  z-index: 2;
}

.header-content {
  /* pin title to the top-right but keep breathing room from edges */
  position: absolute;
  top: 2.25rem;
  right: 2.25rem;
  text-align: right;
  max-width: 42%;
  padding: 0.6rem 1rem;
  border-radius: 8px;
  animation: slideInRight 0.8s ease-out;
  /* subtle translucent background so text is readable on varying parts of the photo */
  background: linear-gradient(180deg, rgba(0,0,0,0.12), rgba(255,255,255,0.02));
  backdrop-filter: blur(6px);
}

/* ensure header text is visible regardless of page theme */
.photos-header .h1,
.photos-header .header-text {
  color: #fff;
}

/* Folder page specific: top strip that sits on top of the header image */
.folder-page-topstrip {
  display: flex;
  gap: 12px;
  margin-top: -8rem; /* overlap the header image */
  padding: 8px 0 1rem 0;
  position: relative;
  z-index: 4;
  align-items: flex-start;
  justify-content: center;
}
.folder-page-topstrip.visible { opacity: 1; transform: none; }
.folder-page-topstrip .folder-page-thumb { display:block; width:220px; border-radius:10px; overflow:hidden; box-shadow: 0 12px 30px rgba(0,0,0,0.45); background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); }
.folder-page-topstrip .folder-page-thumb img { width:100%; height:160px; object-fit:cover; display:block; }

/* ensure the header's title is visually on top-right of the header photo */
.photos-header .header-content { right: 2.25rem; top: 2.25rem; }

/* Grid for remaining images */
.folder-page-grid-wrap { padding-top: 1rem; padding-bottom: 3rem; }
.folder-page-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; }
.folder-page-grid.visible { opacity: 1; transform: none; }
.folder-page-grid .folder-file { background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); padding: 0; border-radius: 10px; overflow: hidden; }
.folder-page-grid .folder-file img { width:100%; height: 220px; object-fit: cover; display:block; }
.folder-page-grid .file-meta { padding: 8px; }
.folder-page-grid .file-actions { padding: 8px; display:flex; gap:8px; }

@media (max-width:1100px) {
  .folder-page-grid { grid-template-columns: repeat(3, 1fr); }
  .folder-page-topstrip .folder-page-thumb { width:180px; }
}
@media (max-width:820px) {
  .folder-page-grid { grid-template-columns: repeat(2, 1fr); }
  .folder-page-topstrip { gap: 10px; margin-top: -6rem; }
  .folder-page-topstrip .folder-page-thumb { width:46%; }
}
@media (max-width:520px) {
  .folder-page-topstrip { flex-wrap: nowrap; overflow-x: auto; padding-left: 8px; padding-right:8px; }
  .folder-page-topstrip .folder-page-thumb { width:70%; min-width:160px; }
  .folder-page-grid { grid-template-columns: 1fr; }
  .photos-header { min-height: 40vh; }
}

/* Photos page: keep the main title horizontal and prevent any
   stacking/rotation introduced by global rules. Keep the title
   compact and readable when pinned to the top-right. */
.photos-header .header-content .h1 {
  display: inline-block;
  margin: 0;
  font-weight: 800;
  font-size: var(--h1);
  letter-spacing: 0.02em;
  line-height: 1;
  transform: none !important; /* ensure no accidental rotation */
  writing-mode: horizontal-tb; /* force horizontal layout */
  text-orientation: mixed;
  white-space: nowrap;
}

.photos-header .h1 span {
  display: inline-block; /* keep the title on a single row */
  white-space: nowrap;
}

/* Allow header-text to use stacked spans (two lines) but keep them
   as block-level flows within the paragraph so they form two rows. */
.photos-header .header-text span {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideInRight {
  from {
    transform: translateX(30px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.gallery-section {
  padding-block: 3rem;
  /* pull the gallery up a bit so tiles overlap the header smoothly, but less aggressively */
  margin-top: -15vh;
  position: relative;
  z-index: 2;
}
.gallery-controls {
  display:flex;
  gap:1rem;
  align-items:center;
  justify-content:space-between;
  margin-bottom:1.5rem;
}

/* Folder tile / VSCode-like floating panels */
.folders-root { 
  display: flex; 
  flex-direction: column; 
  gap: 0.75rem;
  position: relative; 
  z-index: 2;
}
.folder-tile {
  /* Use a 2-row grid: top row contains the left/title and actions side-by-side,
     second row is the dropdown `.folder-contents` which will span both columns
     and participate in normal document flow (pushes tiles below). */
  display: grid;
  grid-template-columns: 1fr auto;
  grid-auto-rows: auto;
  align-items: center;
  background: linear-gradient(180deg, rgba(20,20,20,0.85), rgba(0,0,0,0.75));
  border-radius: 12px;
  padding: 12px 14px;
  box-shadow: var(--shadow);
  transition: transform 220ms var(--easing), box-shadow 220ms var(--easing), background 220ms var(--easing);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,0.1);
  position: relative;
  gap: 8px;
}
.folder-tile:hover { transform: translateY(-6px); }
.folder-left { display:flex; gap:12px; align-items:center; grid-column: 1 / 2; }
.folder-title { font-weight:700; color:var(--important); font-size:1.15rem; }
.folder-actions { display:flex; gap:10px; align-items:center; grid-column: 2 / 3; justify-self: end; }

/* buttons */
.btn { padding:8px 12px; border-radius:10px; font-weight:700; cursor:pointer; border: none; display:inline-flex; align-items:center; gap:8px; }
.btn-cta { background:var(--important); color:var(--bg-color-primary); }
.btn-secondary { background: rgba(250,250,250,0.95); color: #111; border:1px solid rgba(0,0,0,0.06); padding:6px 10px; }
.folder-open { text-decoration:none; display:inline-block; padding:8px 12px; border-radius:10px; background: rgba(250,250,250,0.95); color: #111; border:1px solid rgba(0,0,0,0.06); box-shadow: 0 2px 6px rgba(0,0,0,0.06); }

.icon-btn { background:transparent; border:1px solid transparent; padding:6px; border-radius:8px; color:var(--important); cursor:pointer; font-weight:700; transition:transform 220ms var(--easing); }
.icon-btn.folder-expand.expanded { transform: rotate(90deg); }

.folder-contents {
  /* Make dropdowns participate in document flow so opening one pushes
     the tiles below down instead of overlapping them. This keeps the
     UI accessible and more predictable on desktop while mobile
     retains the stacked behavior via the existing media query. */
  display: block;
  position: static; /* flow with surrounding .folder-tile */
  margin-top: 10px;
  padding: 12px;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(10,10,10,0.9), rgba(10,10,10,0.85));
  max-height: 60vh;
  overflow: auto;
  z-index: 3;
  box-shadow: 0 12px 30px rgba(0,0,0,0.45);
  transition: all 180ms var(--easing);
  /* visual polish */
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255,255,255,0.1);
}

/* Ensure the dropdown spans both grid columns and sits below the top row */
.folder-tile > .folder-contents {
  grid-column: 1 / -1;
}
.folder-list { display:flex; gap:10px; flex-wrap:wrap; }
.folder-file {
  width: 220px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: var(--shadow);
  padding: 8px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: relative;
  transition: transform 0.2s ease;
}

.folder-file:hover {
  transform: translateY(-4px);
}

.folder-file img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  border-radius: 6px;
  transition: filter 0.2s ease;
}

.folder-file:hover img {
  filter: brightness(0.7);
}

.file-meta { 
  color: var(--sub); 
  font-size: 0.9rem; 
  overflow: hidden; 
  text-overflow: ellipsis; 
  white-space: nowrap;
  margin-bottom: 8px;
}

.file-actions {
  display: flex;
  gap: 8px;
  margin-top: auto;
}

.folder-empty, .folder-error {
  padding: 2rem;
  text-align: center;
  color: var(--sub);
  background: rgba(255,255,255,0.05);
  border-radius: 8px;
  width: 100%;
}

.folder-file .btn {
  font-size: 0.9rem;
  padding: 6px 10px;
  flex: 1;
  text-align: center;
  text-decoration: none;
}

/* visual polish for folder dropdowns already defined above; place responsive overrides in the media query further below */

.hidden { display:none !important; }

/* subtle entrance animation */
.to-top { transform: translateY(0.6rem); opacity:0; animation: toTop .45s forwards; }
@keyframes toTop { to { transform:none; opacity:1; } }

.zip-progress-wrap { margin-top:1rem; padding-inline:0.5rem; }
.zip-progress-wrap progress { height:14px; border-radius:8px; width:100%; }

@media (max-width:900px) {
  .folder-file { width:45%; }
}
@media (max-width:520px) {
  .folder-file { width:100%; }
  .folder-left { gap:8px; }
  .folder-title { font-size:1rem; }
}

/* Responsive adjustments for header and dropdowns */
@media (max-width:900px) {
  .photos-header { min-height: 50vh; background-position: center center; align-items: center; padding-top: 1.25rem; }
  .header-content { position: static; top: auto; right: auto; max-width: none; text-align: center; margin: 0 auto 0.75rem; background: transparent; backdrop-filter: none; }
  /* target only folder-contents that are children of folder-tile to avoid duplicate top-level selector warnings */
  .folder-tile .folder-contents { position: static; transform: none; max-height: none; box-shadow: none; margin-top: 10px; backdrop-filter: none; }
}

/* Safety: ensure photo pages always use horizontal text flow and
   prevent accidental rotations from other global rules. This enforces
   the intended horizontal layout for headers and any header children. */
.photos-header, .photos-header * {
  writing-mode: horizontal-tb !important;
  text-orientation: mixed !important;
  transform: none !important;
}

